<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <record model="ir.ui.view" id="tree_view_shorepos">
      <field name="name">Shore POS Configuration List</field>
      <field name="model">shorepos.configuration</field>
      <field name="arch" type="xml">
        <tree string="Shore POS Configurations">
          <field name="shorepos_connection_sequence"/>
          <field name="settings_shorepos_connection_name"/>
          <field name="settings_shorepos_store_identifier"/>
          <!-- <field name="settings_shorepos_api_endpoint_url"/> -->
          <field name="settings_shorepos_client_id"/>
          <field name="settings_shorepos_client_secret" password="True"/>
          <field name="settings_shorepos_refresh_token"/>
          <!-- <field name="settings_shorepos_timeout"/> -->
          <field name="settings_shorepos_token_expiry_date"/>
          <field name="odoo_shorepos_last_sync"/>
          <button type="object" name="shorepos_sync_action" string="Sync Now" icon="fa-refresh"/>
        </tree>
      </field>
    </record>
    <record model="ir.ui.view" id="form_view_shorepos">
      <field name="name">Shore POS Configuration Form</field>
      <field name="model">shorepos.configuration</field>
      <field name="arch" type="xml">
        <form string="Shore POS Configuration Form">
          <sheet>
            <div class="oe_title">
              <h1>
                <field name="shorepos_connection_sequence"/>
              </h1>
            </div>
            <notebook>
              <page string="API">
                <group string="Shore POS API">
                  <field name="settings_shorepos_connection_name"/>
                  <field name="settings_shorepos_store_identifier"/>
                  <field name="settings_shorepos_api_endpoint_url"/>
                  <field name="settings_shorepos_client_id"/>
                  <field name="settings_shorepos_client_secret" password="True"/>
                  <field name="settings_shorepos_refresh_token"/>
                  <field name="settings_shorepos_access_token"/>
                  <field name="settings_shorepos_timeout"/>
                </group>
              </page>
              <page string="Sync Items">
                <group string="General Settings">
                  <field name="settings_shorepos_images_sync"/>
                </group>
                <group string="Sync Settings">
                  <table class="o_group o_inner_group" style="width: 100%; border-collapse: collapse;">
                    <thead>
                      <tr style="border-bottom: 1px solid #dee2e6;">
                        <th style="padding: 8px; text-align: left; width: 25%;">Sync</th>
                        <th style="padding: 8px; text-align: center; width: 75%;">From Odoo to Shore POS</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td style="padding: 8px; vertical-align: top;">
                          <div class="oe_label">Products</div>
                        </td>
                        <td style="padding: 8px; text-align: center; vertical-align: top;">
                          <field name="settings_odoo_to_shorepos_products_sync" class="oe_inline"/>
                        </td>
                      </tr>
                      <tr>
                        <td style="padding: 8px; vertical-align: top;">
                          <div class="oe_label">Product Variations</div>
                        </td>
                        <td style="padding: 8px; text-align: center; vertical-align: top;">
                          <field name="settings_odoo_to_shorepos_product_variations_sync" class="oe_inline" attrs="{'invisible': [('settings_odoo_to_shorepos_products_sync', '=', False)]}"/>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </group>
                <group string="Stock Management">
                  <field name="settings_shorepos_products_stock_management"/>
                  <field name="settings_shorepos_products_warehouse_location" attrs="{'invisible': [('settings_shorepos_products_stock_management', '=', False)]}"/>
                </group>
                <group string="Odoo to Shore POS Products Import Settings">
                  <field name="settings_shorepos_odoo_to_shorepos_products_language_code"/>
                  <field name="settings_shorepos_products_package_size_unit_default"/>
                </group>
              </page>
              <page string="Scheduled Sync">
                <group>
                  <field name="settings_shorepos_sync_scheduled"/>
                  <field name="settings_shorepos_sync_scheduled_interval_minutes" attrs="{'invisible': [('settings_shorepos_sync_scheduled', '=', False)]}"/>
                </group>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>
    <!-- Actions opening views on models -->
    <record model="ir.actions.act_window" id="action_shorepos_configuration">
      <field name="name">Shore POS Configuration</field>
      <field name="res_model">shorepos.configuration</field>
      <field name="view_mode">tree,form</field>
    </record>
    <!-- Top menu item -->
    <menuitem name="Shore POS Sync" id="shorepos_menu_root" sequence="50"/>
    <!-- Menu categories -->
    <menuitem name="Configuration" id="shorepos_configuration_menu" parent="shorepos_menu_root" action="action_shorepos_configuration"/>
  </data>
</odoo>
